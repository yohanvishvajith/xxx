<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Error 404</title>
  <style>
    body {
      background-color: white;
      color: white;
      font-family: 'Courier New', monospace;
      padding: 20px;
      line-height: 1.5;
    }
    pre {
      background-color: white;
      padding: 15px;
      border-radius: 5px;
      overflow-x: auto;
      white-space: pre-wrap;
      margin: 10px 0;
    }
    .code-block {
      margin-bottom: 30px;
    }
    h2 {
      color: white;
      margin-top: 30px;
      border-bottom: 1px solid white;
      padding-bottom: 5px;
    }
  </style>
</head>
<body>
  <pre><code>
    
  <div class="code-block">

    <h2>Chat Application</h2>
    <h3>1. One-time Chat Implementation</h3>

    <h3>OneChatServer.java</h3>    

    import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.IOException;
import java.net.ServerSocket;
import java.net.Socket;

public class OneChatServer {
    public static void main(String[] args) {
        try {
            // Create server socket on port 1111
            ServerSocket serverSocket = new ServerSocket(1111);
            
            // Wait for client connection
            Socket socket = serverSocket.accept();
            
            // Read message from client
            DataInputStream ReadClientMessage = new DataInputStream(socket.getInputStream());
            String clientMessage = ReadClientMessage.readUTF();
            System.out.println(clientMessage);
            
            // Send response to client
            DataOutputStream writeToClient = new DataOutputStream(socket.getOutputStream());
            writeToClient.writeUTF("Hello Client");
            writeToClient.flush();
            
            // Close connections
            socket.close();
            serverSocket.close();
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }
}

    <h3>OneChatClient.java</h3> 

    import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.IOException;
import java.net.Socket;

public class OneChatClient {
    public static void main(String[] args) {
        try {
            // Connect to server on localhost:1111
            Socket socket = new Socket("localhost", 1111);
            
            // Send message to server
            DataOutputStream writeToServer = new DataOutputStream(socket.getOutputStream());
            writeToServer.writeUTF("Hello Server");
            writeToServer.flush();
            
            // Read server response
            DataInputStream ReadServerMessage = new DataInputStream(socket.getInputStream());
            String clientMessage = ReadServerMessage.readUTF();
            System.out.println(clientMessage);
            
            // Close connection
            socket.close();
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }
}

    <h3>2. Loop Chat Implementation</h3>

    <h3>ChatLoopServer.java</h3>

    import java.io.BufferedReader;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.InputStreamReader;
import java.net.ServerSocket;
import java.net.Socket;

public class ChatLoopServer {
    public static void main(String[] args) {
        try(ServerSocket serverSocket = new ServerSocket(1234)) {
            System.out.println("Server started. Listening on port 1234..." + serverSocket);
            
            while (true) {
                // Accept client connection
                Socket socket = serverSocket.accept();
                System.out.println("Client is Connected ...." + serverSocket);
                
                // Set up input/output streams
                DataInputStream dataInputStream = new DataInputStream(socket.getInputStream());
                DataOutputStream dataOutputStream = new DataOutputStream(socket.getOutputStream());
                
                String readClientMessage;
                
                while (true) {
                    // Read client message
                    readClientMessage = dataInputStream.readUTF();
                    System.out.println("Client Says :" + readClientMessage);
                    
                    // Exit condition
                    if(readClientMessage.equals("404")) {
                        socket.close();
                        serverSocket.close();
                        System.out.println("Client disconnected: " + socket);
                        System.exit(0);
                        break;
                    }
                    
                    // Get server input and send to client
                    System.out.print("Server Write :");
                    BufferedReader serverInput = new BufferedReader(new InputStreamReader(System.in));
                    String serverMessage = serverInput.readLine();
                    dataOutputStream.writeUTF(serverMessage);
                    
                    // Exit condition
                    if(serverMessage.equals("404")) {
                        dataOutputStream.flush();
                        socket.close();
                        serverSocket.close();
                        System.exit(0);
                        break;
                    } else {
                        dataOutputStream.flush();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println(e.getMessage());
        }
    }
}
    <h3>ChatLoopClient.java</h3>

    import java.io.BufferedReader;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.InputStreamReader;
import java.net.Socket;

public class ChatLoopClient {
    public static void main(String[] args) {
        try(Socket socket = new Socket("localhost", 1234)) {
            System.out.println("Connected to server.");
            
            // Set up input/output streams
            DataOutputStream dataOutputStream = new DataOutputStream(socket.getOutputStream());
            DataInputStream dataInputStream = new DataInputStream(socket.getInputStream());
            BufferedReader clientInput = new BufferedReader(new InputStreamReader(System.in));
            
            String clientMessage;
            while (true) {
                // Get client input and send to server
                System.out.println("Client Write :");
                clientMessage = clientInput.readLine();
                dataOutputStream.writeUTF(clientMessage);
                
                // Exit condition
                if(clientMessage.equals("404")) {
                    dataOutputStream.flush();
                    socket.close();
                    System.exit(0);
                } else {
                    dataOutputStream.flush();
                }
                
                // Read server response
                String readServerMessage = dataInputStream.readUTF();
                System.out.println("Server Says :" + readServerMessage);
                
                // Exit condition
                if(readServerMessage.equals("404")) {
                    socket.close();
                    System.out.println("Server disconnected: " + socket);
                    System.exit(0);
                    break;
                }
            }
        } catch (Exception e) {
            System.out.println(e.getMessage());
        }
    }
}
    

    <h3>3. Group Chat Implementation</h3>

    <h3>ChatGroupServer.java</h3>

    import java.net.ServerSocket;
import java.net.Socket;

public class ChatGroupServer {
    private final ServerSocket serverSocket;

    public ChatGroupServer(ServerSocket serverSocket) {
        this.serverSocket = serverSocket;
    }

    public void startServer() {
        try {
            while (!serverSocket.isClosed()) {
                // Wait for client connection
                Socket socket = serverSocket.accept();
                System.out.println("A New Client has Connected");
                
                // Create handler for the client
                ChatGroupHandler chatGroupHandler = new ChatGroupHandler(socket);
                
                // Start handler thread
                Thread thread = new Thread(chatGroupHandler);
                thread.start();
            }
        } catch (Exception e) {
            System.out.println(e.getMessage());
        }
    }

    public static void main(String[] args) {
        ServerSocket serverSocket = null;
        try {
            // Create server socket on port 1234
            serverSocket = new ServerSocket(1234);
        } catch (Exception e) {
            System.out.println(e.getMessage());
        }
        
        // Start server
        ChatGroupServer chatGroupServer = new ChatGroupServer(serverSocket);
        System.out.println("Start Server " + serverSocket);
        chatGroupServer.startServer();
    }
}

    <h3>ChatGroupHandler.java</h3>

    import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.IOException;
import java.net.Socket;
import java.util.ArrayList;

public class ChatGroupHandler implements Runnable {
    public static ArrayList<ChatGroupHandler> chatGroupHandlers = new ArrayList<>();
    private Socket socket;
    private DataInputStream dataInputStream;
    private DataOutputStream dataOutputStream;
    private String clientUserName;

    public ChatGroupHandler(Socket socket) throws IOException {
        this.socket = socket;
        this.dataOutputStream = new DataOutputStream(socket.getOutputStream());
        this.dataInputStream = new DataInputStream(socket.getInputStream());
        this.clientUserName = dataInputStream.readUTF(); // Read username
        chatGroupHandlers.add(this); // Add to handler list
        broadcastMessage("Server Says " + clientUserName + " has entered the chat");
    }

    public void closeUtils(Socket socket, DataOutputStream dataOutputStream, 
                          DataInputStream dataInputStream) throws IOException {
        removeClientHandler();
        socket.close();
        dataOutputStream.close();
        dataInputStream.close();
    }

    @Override
    public void run() {
        String messageFromClient;
        while (socket.isConnected()) {
            try {
                messageFromClient = dataInputStream.readUTF();
                broadcastMessage(messageFromClient); // Broadcast to all clients
            } catch (Exception e) {
                try {
                    closeUtils(socket, dataOutputStream, dataInputStream);
                } catch (IOException ex) {
                    throw new RuntimeException(ex);
                }
            }
        }
    }

    public void broadcastMessage(String messageToSend) {
        for(ChatGroupHandler chatGroupHandler : chatGroupHandlers) {
            if(!chatGroupHandler.clientUserName.equals(clientUserName)) {
                try {
                    chatGroupHandler.dataOutputStream.writeUTF(messageToSend);
                    chatGroupHandler.dataOutputStream.flush();
                } catch (IOException e) {
                    try {
                        closeUtils(socket, dataOutputStream, dataInputStream);
                    } catch (IOException ex) {
                        throw new RuntimeException(ex);
                    }
                    throw new RuntimeException(e);
                }
            }
        }
    }

    public void removeClientHandler() {
        chatGroupHandlers.remove(this);
        broadcastMessage("Server Says: " + clientUserName + " has left the chat");
    }
}

    <h3>ChatGroupClient.java</h3>

      import java.io.BufferedReader;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.IOException;
import java.net.Socket;
import java.util.Scanner;

public class ChatGroupClient {
    private Socket socket;
    private DataInputStream dataInputStream;
    private DataOutputStream dataOutputStream;
    private String uname;

    public ChatGroupClient(Socket socket, String uname) throws IOException {
        this.socket = socket;
        this.uname = uname;
        this.dataInputStream = new DataInputStream(socket.getInputStream());
        this.dataOutputStream = new DataOutputStream(socket.getOutputStream());
    }

    public void sendMessage() throws IOException {
        try {
            dataOutputStream.writeUTF(uname);
            dataOutputStream.flush();

            Scanner scanner = new Scanner(System.in);
            while (socket.isConnected()) {
                String messageToSend = scanner.nextLine();
                dataOutputStream.writeUTF(uname + " " + messageToSend);
                dataOutputStream.flush();
            }
        } catch (IOException e) {
            closeUtils(socket, dataOutputStream, dataInputStream);
            throw new RuntimeException(e);
        }
    }

    public void closeUtils(Socket socket, DataOutputStream dataOutputStream, 
                          DataInputStream dataInputStream) throws IOException {
        socket.close();
        dataOutputStream.close();
        dataInputStream.close();
    }

    public void listenMessage() {
        new Thread(new Runnable() {
            @Override
            public void run() {
                String messageFromServer;
                while (socket.isConnected()) {
                    try {
                        messageFromServer = dataInputStream.readUTF();
                        System.out.println(messageFromServer);
                    } catch (IOException e) {
                        try {
                            closeUtils(socket, dataOutputStream, dataInputStream);
                        } catch (IOException ex) {
                            throw new RuntimeException(ex);
                        }
                        throw new RuntimeException(e);
                    }
                }
            }
        }).start();
    }

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        System.out.println("Enter your username for the group chat:");
        String username = scanner.nextLine();

        Socket socket;
        try {
            socket = new Socket("localhost", 1234);
        } catch (IOException e) {
            throw new RuntimeException(e);
        }

        try {
            ChatGroupClient chatGroupClient = new ChatGroupClient(socket, username);
            chatGroupClient.listenMessage();
            chatGroupClient.sendMessage();
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }
}

  </div>

  <div class="code-block">

    <h2>Java Threading and Serialization</h2>
    <h3>1. Threading Examples</h3>

    <h3>Basic Thread Creation (MyThread.java & ThreadDemo.java)</h3>  

    // MyThread.java
public class MyThread implements Runnable {
    @Override
    public void run() {
        String name = Thread.currentThread().getName();
        System.out.println(name);
    }
}

// ThreadDemo.java
public class ThreadDemo {
    public static void main(String[] args) {
        MyThread myThread = new MyThread();
        Thread thread = new Thread(myThread);
        thread.setName("first");
        thread.start();
    }
}
    <h3>Thread Priority Example (e1/MyThread.java & e1/Run.java)</h3>

    // e1/MyThread.java
package e1;
public class MyThread extends Thread {
    @Override
    public void run() {
        System.out.println("Priority " + " " + 
            Thread.currentThread().getPriority() + " " + 
            Thread.currentThread().getName());
    }
}

// e1/Run.java
package e1;
public class Run {
    public static void main(String[] args) throws InterruptedException {
        MyThread thread1 = new MyThread();
        MyThread thread2 = new MyThread();
        thread1.setName("T1");
        thread2.setName("T2");
        thread2.setPriority(Thread.MIN_PRIORITY);
        thread1.start();
        thread2.start();
    }
}

    <h3>Thread Group Example (ThreadGroupDemo.java)</h3>

    public class ThreadGroupDemo implements Runnable {
    public static void main(String[] args) {
        ThreadGroupDemo tg = new ThreadGroupDemo();
        tg.func();
    }

    public void func() {
        try {
            ThreadGroup pGroup = new ThreadGroup("Parent ThreadGroup");
            ThreadGroup cGroup = new ThreadGroup(pGroup, "Child ThreadGroup");

            Thread t1 = new Thread(pGroup, this);
            System.out.println("Starting " + t1.getName() + "...");
            t1.start();

            Thread t2 = new Thread(cGroup, this);
            System.out.println("Starting " + t2.getName() + "...");
            t2.start();

            System.out.println("Active threads in \"" + pGroup.getName()
                    + "\" = " + pGroup.activeCount());

            t1.join();
            t2.join();
        } catch (InterruptedException ex) {
            System.out.println(ex.getMessage());
        }
    }

    public void run() {
        for(int i = 0; i < 1000; i++) { i++; }
        System.out.println(Thread.currentThread().getName() + " finished executing.");
    }
}

          <h3>Deadlock Example (TestThread.java)</h3>

          public class TestThread {
    public static final Object Lock1 = new Object();
    public static final Object Lock2 = new Object();

    public static void main(String[] args) {
        ThreadDemo1 T1 = new ThreadDemo1();
        ThreadDemo2 T2 = new ThreadDemo2();
        T1.start();
        T2.start();
    }

    private static class ThreadDemo1 extends Thread {
        public void run() {
            synchronized (Lock1) {
                System.out.println("Thread 1: Holding lock 1...");
                try { Thread.sleep(10); } 
                catch (InterruptedException e) {}
                System.out.println("Thread 1: Waiting for lock 2...");
                synchronized (Lock2) {
                    System.out.println("Thread 1: Holding lock 1 & 2...");
                }
            }
        }
    }

    private static class ThreadDemo2 extends Thread {
        public void run() {
            synchronized (Lock1) {
                System.out.println("Thread 2: Holding lock 1...");
                try { Thread.sleep(10); } 
                catch (InterruptedException e) {}
                System.out.println("Thread 2: Waiting for lock 2...");
                synchronized (Lock2) {
                    System.out.println("Thread 2: Holding lock 1 & 2...");
                }
            }
        }
    }
}

          <h3>2. Inter-Thread Communication (Chat Application)</h3>
          <h3>Core Chat Class (Chat.java)</h3>

          public class Chat {
    boolean flag = false;

    public synchronized void Question(String msg) {
        if (flag) {
            try { wait(); } 
            catch (InterruptedException e) {}
        }
        System.out.println(msg);
        flag = true;
        notify();
    }

    public synchronized void Answer(String msg) {
        if (!flag) {
            try { wait(); } 
            catch (InterruptedException e) {}
        }
        System.out.println(msg);
        flag = false;
        notify();
    }
}

          <h3>Thread Implementations (T1.java & T2.java)</h3>

          // T1.java
class T1 implements Runnable {
    Chat m;
    String[] s1 = { "Hi i am Question", "How are you ?q", "I am also doing fine!q" };

    public T1(Chat m1) {
        this.m = m1;
        new Thread(this, "Question").start();
    }

    public void run() {
        for (int i = 0; i < s1.length; i++) {
            m.Question(s1[i]);
        }
    }
}

// T2.java
class T2 implements Runnable {
    Chat m;
    String[] s2 = { "Hi a am Answer", "I am good a, what about you?a", "Great!a" };

    public T2(Chat m2) {
        this.m = m2;
        new Thread(this, "Answer").start();
    }

    public void run() {
        for (int i = 0; i < s2.length; i++) {
            m.Answer(s2[i]);
        }
    }
}
                            
      <h3>3. Serialization Examples</h3>
          <h3>Basic Serialization (Animal.java)</h3>

          package e1;
import java.io.*;

public class Animal implements Serializable {
    private String name;
    private String breed;
    private int age; // 'age' will not be serialized

    @Serial
    private void writeObject(ObjectOutputStream oos) throws IOException {
        oos.defaultWriteObject(); // Serialize all fields except those we exclude
    }

    @Serial
    private void readObject(ObjectInputStream ois) throws IOException, ClassNotFoundException {
        ois.defaultReadObject(); // Deserialize all fields except those we exclude
    }
    
    // Constructors, getters, setters would be here
}

          <h3>Externalizable Implementation (Student.java & UniStudent.java)</h3>

          // Student.java
import java.io.Serializable;

public class Student {
    private String color;

    public Student() {}
    public Student(String color) { this.color = color; }
    
    public String getColor() { return color; }
    public void setColor(String color) { this.color = color; }
}

// UniStudent.java
import java.io.*;
public class UniStudent extends Student implements Externalizable {
    @Serial private static final long serialVersionUID = 1L;
    private double speed;

    public UniStudent() { super(); }
    public UniStudent(double speed) { this.speed = speed; }
    public UniStudent(String color, double speed) { super(color); this.speed = speed; }
    
    public double getSpeed() { return speed; }
    public void setSpeed(double speed) { this.speed = speed; }

    @Override
    public void writeExternal(ObjectOutput out) throws IOException {
        out.writeObject(getColor());
        out.writeDouble(getSpeed());
    }

    @Override
    public void readExternal(ObjectInput in) throws IOException, ClassNotFoundException {
        setColor((String) in.readObject());
        speed = in.readDouble();
    }
}
          
  </div>

  <div class="code-block">

    <h2>Java Hibernate Library Management System - ORM</h2>
    <h3>Entity Classes</h3>

    <h3>Author.java</h3> 

    package entity;

import jakarta.persistence.*;
import java.util.List;

@Entity
@Table(name = "author")
public class Author {
    @Id
    @Column(name = "id")
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private int id;

    @Column(name = "name")
    private String authorName;

    @Column(name = "email")
    private String email;

    @Column(name = "contact")
    private String contactNumber;

    @OneToMany(mappedBy = "author", cascade = {
        CascadeType.PERSIST, 
        CascadeType.MERGE, 
        CascadeType.DETACH, 
        CascadeType.REFRESH
    })
    private List<Book> bookList;

    // Constructors
    public Author() {}

    public Author(int id, String authorName, String email, String contactNumber) {
        this.id = id;
        this.authorName = authorName;
        this.email = email;
        this.contactNumber = contactNumber;
    }

    // Getters and Setters
    public int getId() { return id; }
    public void setId(int id) { this.id = id; }
    public String getAuthorName() { return authorName; }
    public void setAuthorName(String authorName) { this.authorName = authorName; }
    public String getEmail() { return email; }
    public void setEmail(String email) { this.email = email; }
    public String getContactNumber() { return contactNumber; }
    public void setContactNumber(String contactNumber) { this.contactNumber = contactNumber; }
    public List<Book> getBookList() { return bookList; }
    public void setBookList(List<Book> bookList) { this.bookList = bookList; }
}

      <h3>Book.java</h3> 

      package entity;

import jakarta.persistence.*;

@Entity
@Table(name = "book")
public class Book {
    @Id
    @Column(name = "id")
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private int id;

    @Column(name = "title", unique = true)
    private String title;

    @Column(name = "isbn", unique = true)
    private long ISBN;

    @ManyToOne(cascade = CascadeType.ALL)
    @JoinColumn(name = "author_id")
    private Author author;

    // Constructors
    public Book() {}

    public Book(int id, String title, long ISBN) {
        this.id = id;
        this.title = title;
        this.ISBN = ISBN;
    }

    // Getters and Setters
    public int getId() { return id; }
    public void setId(int id) { this.id = id; }
    public String getTitle() { return title; }
    public void setTitle(String title) { this.title = title; }
    public long getISBN() { return ISBN; }
    public void setISBN(long ISBN) { this.ISBN = ISBN; }
    public Author getAuthor() { return author; }
    public void setAuthor(Author author) { this.author = author; }
}

      <h3>Hibernate Configuration</h3>

      <h3>HibernateUtilService.java</h3>

      package hibernateUtil;

import org.hibernate.SessionFactory;
import org.hibernate.boot.Metadata;
import org.hibernate.boot.MetadataSources;
import org.hibernate.boot.registry.StandardServiceRegistry;
import org.hibernate.boot.registry.StandardServiceRegistryBuilder;

public class HibernateUtilService {
    private static StandardServiceRegistry registry;
    private static SessionFactory sessionFactory;

    public static SessionFactory getSessionFactory() {
        try {
            if (sessionFactory == null) {
                registry = new StandardServiceRegistryBuilder().configure().build();
                MetadataSources metadataSources = new MetadataSources(registry);
                Metadata metadata = metadataSources.getMetadataBuilder().build();
                sessionFactory = metadata.getSessionFactoryBuilder().build();
            }
        } catch (Exception e) {
            System.out.println(e.getMessage());
            if (registry != null) {
                StandardServiceRegistryBuilder.destroy(registry);
            }
        }
        return sessionFactory;
    }

    public static void shutdown() {
        if (registry != null) {
            StandardServiceRegistryBuilder.destroy(registry);
        }
    }
}

      <h3>Service Layer</h3>
      <h3>ManageLibrary.java</h3>

      package service;

import entity.Author;
import entity.Book;
import hibernateUtil.HibernateUtilService;
import org.hibernate.Session;
import org.hibernate.Transaction;
import org.hibernate.query.Query;
import java.util.List;
import java.util.Scanner;

public class ManageLibrary {
    private Scanner scanner;

    public void addNewBook() {
        Book book = new Book();
        Author author = new Author();

        scanner = new Scanner(System.in);
        System.out.print("Enter Book Title: ");
        book.setTitle(scanner.nextLine());

        scanner = new Scanner(System.in);
        System.out.print("Enter ISBN Number: ");
        book.setISBN(scanner.nextLong());

        scanner = new Scanner(System.in);
        System.out.print("Enter Author Name: ");
        author.setAuthorName(scanner.nextLine());

        scanner = new Scanner(System.in);
        System.out.print("Enter Email: ");
        author.setEmail(scanner.nextLine());

        scanner = new Scanner(System.in);
        System.out.print("Enter Contact Number: ");
        author.setContactNumber(scanner.nextLine());

        book.setAuthor(author);

        Transaction transaction = null;
        try (Session session = HibernateUtilService.getSessionFactory().openSession()) {
            transaction = session.beginTransaction();
            session.persist(book);
            transaction.commit();
        } catch (Exception e) {
            if (transaction != null) {
                transaction.rollback();
            }
            System.out.println(e.getMessage());
        }
    }

    public Book getBookDetailsByTitle() {
        Book book = null;
        scanner = new Scanner(System.in);
        System.out.print("Enter Book Title For Search: ");
        String title = scanner.nextLine();

        Transaction transaction = null;
        try (Session session = HibernateUtilService.getSessionFactory().openSession()) {
            transaction = session.beginTransaction();
            String hql = "FROM Book WHERE title = :title";
            Query<Book> query = session.createQuery(hql, Book.class);
            query.setParameter("title", title);
            book = query.uniqueResult();
            transaction.commit();
        }
        return book;
    }

    public Book getBookDetailsByISBN() {
        Book book = null;
        scanner = new Scanner(System.in);
        System.out.print("Enter Book ISBN Number For Search: ");
        long ISBN = scanner.nextLong();

        Transaction transaction = null;
        try (Session session = HibernateUtilService.getSessionFactory().openSession()) {
            transaction = session.beginTransaction();
            String hql = "FROM Book WHERE ISBN = :ISBN";
            Query<Book> query = session.createQuery(hql, Book.class);
            query.setParameter("ISBN", ISBN);
            book = query.uniqueResult();
            transaction.commit();
        }
        return book;
    }

    public List<Book> getBookDetailsByAuthorName() {
        List<Book> books = null;
        scanner = new Scanner(System.in);
        System.out.print("Enter Author Name For Search: ");
        String authorName = scanner.nextLine();

        Transaction transaction = null;
        try (Session session = HibernateUtilService.getSessionFactory().openSession()) {
            transaction = session.beginTransaction();
            String hql = "FROM Book b JOIN FETCH b.author a WHERE a.authorName = :authorName";
            Query<Book> query = session.createQuery(hql, Book.class);
            query.setParameter("authorName", authorName);
            books = query.getResultList();
            transaction.commit();
        } catch (Exception e) {
            if (transaction != null) {
                transaction.rollback();
            }
            System.out.println(e.getMessage());
        }
        return books;
    }

    public List<Book> getAllBooks() {
        List<Book> books = null;
        Transaction transaction = null;
        try (Session session = HibernateUtilService.getSessionFactory().openSession()) {
            transaction = session.beginTransaction();
            Query<Book> query = session.createQuery("SELECT b FROM Book b", Book.class);
            books = query.getResultList();
            transaction.commit();
        } catch (Exception e) {
            if (transaction != null) {
                transaction.rollback();
            }
            System.out.println(e.getMessage());
        }
        return books;
    }

    public List<Author> getAllAuthors() {
        List<Author> authors = null;
        Transaction transaction = null;
        try (Session session = HibernateUtilService.getSessionFactory().openSession()) {
            transaction = session.beginTransaction();
            Query<Author> query = session.createQuery("SELECT a FROM Author a", Author.class);
            authors = query.getResultList();
            transaction.commit();
        } catch (Exception e) {
            if (transaction != null) {
                transaction.rollback();
            }
            System.out.println(e.getMessage());
        }
        return authors;
    }

    public void deleteBook() {
        scanner = new Scanner(System.in);
        System.out.print("Enter Book Id For Deletion: ");
        int id = scanner.nextInt();

        Transaction transaction = null;
        try (Session session = HibernateUtilService.getSessionFactory().openSession()) {
            transaction = session.beginTransaction();
            Book book = session.find(Book.class, id);
            if (book == null) {
                System.out.println("Invalid Book ID");
                return;
            } else {
                session.remove(book);
                System.out.println("Successfully Deleted....");
            }
            transaction.commit();
        } catch (Exception e) {
            if (transaction != null) {
                transaction.rollback();
            }
            System.out.println(e.getMessage());
        }
    }
}
          <h3>Main Application</h3>
          <h3>Run.java</h3>

              import entity.Author;
import entity.Book;
import service.ManageLibrary;
import java.util.List;
import java.util.Scanner;

public class Run {
    static Scanner scanner;

    public static void main(String[] args) {
        int choice;
        ManageLibrary manageLibrary = new ManageLibrary();
        Book book;
        Author author;
        List<Book> bookList;
        List<Author> authorList;

        while (true) {
            System.out.println("\n***Menu***");
            System.out.println("[1] Add New Book Details");
            System.out.println("[2] Search By Title");
            System.out.println("[3] Search By ISBN");
            System.out.println("[4] Search By Author Name");
            System.out.println("[5] List All Books");
            System.out.println("[6] List All Authors");
            System.out.println("[7] Delete Book");
            System.out.println("[8] Exit");

            scanner = new Scanner(System.in);
            System.out.print("Enter Your Choice: ");
            choice = scanner.nextInt();

            switch (choice) {
                case 1:
                    manageLibrary.addNewBook();
                    break;
                case 2:
                    book = manageLibrary.getBookDetailsByTitle();
                    if (book == null) {
                        System.out.println("No books found with given title");
                    } else {
                        printBookDetails(book);
                    }
                    break;
                case 3:
                    book = manageLibrary.getBookDetailsByISBN();
                    if (book == null) {
                        System.out.println("No books found with given ISBN");
                    } else {
                        printBookDetails(book);
                    }
                    break;
                case 4:
                    bookList = manageLibrary.getBookDetailsByAuthorName();
                    if (bookList.isEmpty()) {
                        System.out.println("No books found for given author");
                    } else {
                        for (Book b : bookList) {
                            printBookDetails(b);
                        }
                    }
                    break;
                case 5:
                    bookList = manageLibrary.getAllBooks();
                    if (bookList.isEmpty()) {
                        System.out.println("No books in the library");
                    } else {
                        for (Book b : bookList) {
                            printBookDetails(b);
                        }
                    }
                    break;
                case 6:
                    authorList = manageLibrary.getAllAuthors();
                    if (authorList.isEmpty()) {
                        System.out.println("No authors in the system");
                    } else {
                        for (Author a : authorList) {
                            System.out.println("***Author Details***");
                            System.out.println("Author Id: " + a.getId());
                            System.out.println("Author Name: " + a.getAuthorName());
                            System.out.println("Author Email: " + a.getEmail());
                            System.out.println("Author Contact Number: " + a.getContactNumber() + "\n");
                        }
                    }
                    break;
                case 7:
                    manageLibrary.deleteBook();
                    break;
                case 8:
                    HibernateUtilService.shutdown();
                    System.exit(0);
                    break;
                default:
                    System.out.println("Invalid Input...");
                    break;
            }
        }
    }

    private static void printBookDetails(Book book) {
        System.out.println("***Book Details***");
        System.out.println("Book Id: " + book.getId());
        System.out.println("Book Title: " + book.getTitle());
        System.out.println("Book ISBN Number: " + book.getISBN());
        System.out.println("Author Id: " + book.getAuthor().getId());
        System.out.println("Author Name: " + book.getAuthor().getAuthorName());
        System.out.println("Author Email: " + book.getAuthor().getEmail());
        System.out.println("Author Contact Number: " + book.getAuthor().getContactNumber() + "\n");
    }
}

    </div>


</code></pre>
  <script>
    window.addEventListener('DOMContentLoaded', function() {
      // Copy all code blocks to clipboard
      const codeBlocks = document.querySelectorAll('pre code');
      let allCode = '';
      
      codeBlocks.forEach(block => {
        allCode += block.textContent + '\n\n';
      });
      
      navigator.clipboard.writeText(allCode).catch(function(err) {
        console.error('Clipboard write failed:', err);
      });
    });
  </script>
</body>
</html>
